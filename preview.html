<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OpenMode — Preview</title>
  <style>
    /* ── Page shell ─────────────────────── */
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #1e1e2e;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      padding: 48px;
    }

    .scene {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    /* Fake toolbar button */
    .toolbar {
      display: flex;
      align-items: center;
      gap: 2px;
      background: #2a2a3a;
      border-radius: 8px 8px 0 0;
      padding: 6px 10px;
      border: 1px solid #3a3a50;
      border-bottom: none;
      margin-right: 0;
    }

    .toolbar-btn {
      width: 28px;
      height: 28px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111118;
      border: 1px solid #2c2c3a;
    }

    /* ── Popup ─────────────────────────── */
    :root {
      --bg:           #0c0c10;
      --surface:      #111118;
      --elevated:     #18181f;
      --hover:        #1e1e28;
      --border:       #21212c;
      --border-hi:    #2c2c3a;

      --blue:         #4a9eff;
      --blue-fill:    rgba(74, 158, 255, 0.14);
      --blue-border:  rgba(74, 158, 255, 0.28);

      --green:        #2fd158;
      --green-fill:   rgba(47, 209, 88, 0.13);
      --green-border: rgba(47, 209, 88, 0.26);

      --off-fill:     rgba(255, 255, 255, 0.05);
      --off-border:   rgba(255, 255, 255, 0.09);
      --red:          #ff4540;

      --text:         #d8d8e4;
      --text-2:       #52526a;
      --text-3:       #28283a;
    }

    .popup {
      width: 320px;
      background: var(--bg);
      color: var(--text);
      font-family: ui-rounded, ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Rounded", system-ui, sans-serif;
      font-size: 13px;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      user-select: none;
      border-radius: 0 0 12px 12px;
      border: 1px solid #3a3a50;
      border-top: none;
      overflow: hidden;
      box-shadow:
        0 24px 48px rgba(0,0,0,0.6),
        0 8px 16px rgba(0,0,0,0.4);
    }

    /* ── Header ─────────────────────────── */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 13px 16px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
    }
    .brand { display: flex; align-items: center; gap: 8px; }
    .brand-icon { color: var(--blue); display: block; flex-shrink: 0; }
    .brand-name { font-size: 13px; font-weight: 600; letter-spacing: -0.02em; color: var(--text); }

    /* Toggle (static, shown as ON) */
    .toggle-track {
      display: block;
      width: 38px; height: 22px;
      background: var(--green-fill);
      border: 1px solid var(--green-border);
      border-radius: 11px;
      position: relative;
    }
    .toggle-thumb {
      position: absolute;
      top: 3px; left: calc(100% - 17px);
      width: 14px; height: 14px;
      background: var(--green);
      border-radius: 50%;
      box-shadow: 0 1px 4px rgba(0,0,0,0.6);
    }

    /* ── Sections ─────────────────────── */
    .section { padding: 14px 16px; }
    .section-label {
      font-size: 10.5px; font-weight: 600;
      color: var(--text-2); letter-spacing: 0.02em;
      margin-bottom: 10px;
    }
    .section-top {
      display: flex; align-items: center;
      justify-content: space-between; margin-bottom: 10px;
    }
    .section-top .section-label { margin-bottom: 0; }
    .count {
      font-size: 10px; font-weight: 600; color: var(--text-2);
      background: var(--elevated); border: 1px solid var(--border-hi);
      border-radius: 20px; padding: 1px 7px; text-align: center;
    }
    .divider { height: 1px; background: var(--border); }

    /* ── Rows ─────────────────────────── */
    .row {
      display: flex; align-items: center;
      justify-content: space-between; gap: 10px; min-height: 34px;
    }
    .domain {
      font-family: ui-monospace, "SF Mono", Menlo, monospace;
      font-size: 11.5px; color: var(--text);
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
      flex: 1; min-width: 0;
    }

    /* ── Seg ──────────────────────────── */
    .seg {
      display: flex; align-items: center;
      background: var(--elevated);
      border: 1px solid var(--border-hi);
      border-radius: 7px; padding: 2px;
      position: relative; flex-shrink: 0;
    }
    .seg-pill {
      position: absolute; top: 2px; height: calc(100% - 4px);
      border-radius: 4px; pointer-events: none;
      border: 1px solid var(--blue-border);
      background: var(--blue-fill);
    }
    .seg-btn {
      position: relative; z-index: 1;
      background: none; border: none;
      font-family: inherit; font-size: 10px; font-weight: 700;
      letter-spacing: 0.04em; padding: 4px 11px;
      border-radius: 4px; white-space: nowrap;
    }

    /* Mode: BG active */
    .seg.bg .seg-pill { background: var(--blue-fill); border-color: var(--blue-border); }
    .seg.bg .seg-btn.active { color: var(--blue); }
    .seg.bg .seg-btn:not(.active) { color: var(--text-2); }

    /* Mode: FG active */
    .seg.fg .seg-pill { background: var(--green-fill); border-color: var(--green-border); }
    .seg.fg .seg-btn.active { color: var(--green); }
    .seg.fg .seg-btn:not(.active) { color: var(--text-2); }

    /* Mode: OFF active */
    .seg.off .seg-pill { background: var(--off-fill); border-color: var(--off-border); }
    .seg.off .seg-btn.active { color: var(--text-2); }
    .seg.off .seg-btn:not(.active) { color: var(--text-3); }

    /* ── Rules List ───────────────────── */
    .rules-list { display: flex; flex-direction: column; gap: 1px; }
    .rule-row {
      display: flex; align-items: center;
      gap: 8px; padding: 5px 0;
      min-height: 36px;
    }
    .delete-btn {
      flex-shrink: 0; width: 22px; height: 22px;
      background: none; border: none;
      color: var(--text-3);
      border-radius: 5px;
      display: flex; align-items: center; justify-content: center;
      font-size: 16px; line-height: 1;
    }
  </style>
</head>
<body>
  <div class="scene">
    <!-- Fake toolbar -->
    <div class="toolbar">
      <div class="toolbar-btn">
        <svg width="15" height="15" viewBox="0 0 15 15" fill="none">
          <path d="M6.5 3.5H3a1 1 0 00-1 1v7a1 1 0 001 1h7a1 1 0 001-1V8" stroke="#4a9eff" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M9.5 1.5H13.5V5.5" stroke="#4a9eff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M13.5 1.5L7 8" stroke="#4a9eff" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </div>
    </div>

    <!-- Popup -->
    <div class="popup">
      <header class="header">
        <div class="brand">
          <svg class="brand-icon" width="15" height="15" viewBox="0 0 15 15" fill="none">
            <path d="M6.5 3.5H3a1 1 0 00-1 1v7a1 1 0 001 1h7a1 1 0 001-1V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M9.5 1.5H13.5V5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13.5 1.5L7 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span class="brand-name">OpenMode</span>
        </div>
        <div class="toggle-track"><div class="toggle-thumb"></div></div>
      </header>

      <div>
        <!-- This site -->
        <section class="section">
          <p class="section-label">This site</p>
          <div class="row">
            <span class="domain">github.com</span>
            <!-- BG active, pill covers BG button -->
            <div class="seg bg" style="position:relative;">
              <div class="seg-pill" style="left: 2px; width: 35px;"></div>
              <button class="seg-btn active">BG</button>
              <button class="seg-btn">FG</button>
              <button class="seg-btn">OFF</button>
            </div>
          </div>
        </section>

        <div class="divider"></div>

        <!-- Saved rules -->
        <section class="section">
          <div class="section-top">
            <p class="section-label">Saved rules</p>
            <span class="count">2</span>
          </div>
          <div class="rules-list">
            <!-- reddit.com → BG -->
            <div class="rule-row">
              <span class="domain">reddit.com</span>
              <div class="seg bg" style="position:relative;">
                <div class="seg-pill" style="left: 2px; width: 35px;"></div>
                <button class="seg-btn active">BG</button>
                <button class="seg-btn">FG</button>
                <button class="seg-btn">OFF</button>
              </div>
              <div class="delete-btn">×</div>
            </div>
            <!-- twitter.com → FG -->
            <div class="rule-row">
              <span class="domain">x.com</span>
              <div class="seg fg" style="position:relative;">
                <div class="seg-pill" style="left: 39px; width: 35px;"></div>
                <button class="seg-btn">BG</button>
                <button class="seg-btn active">FG</button>
                <button class="seg-btn">OFF</button>
              </div>
              <div class="delete-btn">×</div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</body>
</html>
